<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    
        <title>
             my pain points with Emacs code search and how I fixed them
            
        </title>

        
            <meta property="og:title" content="my pain points with Emacs code search and how I fixed them" />
        
    

    
        
    

    
        
    

    
         <link rel="icon" type="image/png" href=&#x2F;icon&#x2F;favicon.png />
    

    

    
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=XXXX-XXXXX"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'XXXX-XXXXX');
        </script>
    

    
    
        <script src=https://sepi.me/js/feather.min.js></script>
    


    
        <link href=https://sepi.me/css/fonts.css rel="stylesheet" />
    

    <link rel="stylesheet" type="text/css" media="screen" href=https://sepi.me/css/main.css />

    
        <link
            rel="stylesheet"
            id="darkModeStyle"
            type="text/css"
            href=https://sepi.me/css/dark.css
            
            
                disabled
            
        />
    


    


</head>


<body>
    <div class="content">
        <header>
    <div class="main" id="main_title">
        <a href=https:&#x2F;&#x2F;sepi.me></a>
    </div>

    <nav>
        
            <a href=&#x2F;>Home</a>
        

        
            |

            
                <a href=&#x2F;>en</a>
            
        

        
            | <a id="dark-mode-toggle" onclick="toggleTheme()" href=""></a>
            <script src=https://sepi.me/js/themetoggle.js></script>
        
    </nav>
</header>


        
    
<main>
    <article>
        <div class="title">
            <h1 class="title">my pain points with Emacs code search and how I fixed them</h1>
            <div class="meta">
                
                on  2023-10-22

                
            </div>
        </div>

        

        <section class="body">
            <p>I love <a href="https://www.gnu.org/software/emacs/">Emacs</a>, but one of the things I miss from Visual Studio Code is a good code search feature.
The <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Grep-Searching.html">built-in grep command</a> is powerful, but it's not very easy to use, 
and the search results can be difficult to navigate, especially in large codebases.</p>
<p>There are many third-party packages that try to solve this problem, but most of them have the same issues: 
they're either difficult to use or the search results are hard to navigate.</p>
<p>However, there is one package called <a href="https://github.com/dajva/rg.el">rg.el</a> that does a great job of fixing both of these problems.</p>
<p>rg.el is a wrapper for the <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> command-line tool, which is a very fast and powerful code search tool.
ripgrep understands <a href="https://github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#manual-filtering-file-types">file types</a> and comes with a good set of defaults, 
so you don't need to worry about writing complex regex patterns.</p>
<p>rg.el also has a fantastic transient-based UI system that makes it easy to manipulate the search results. 
For example, you can easily exclude (or include) certain patterns from the results by adding a <code>--glob</code> flag to your search.</p>
<p>For example, if you're working on a Go project and you want to search for the function <code>encodeBase64</code>, 
you can use the following command to exclude all test files from the results:</p>
<p><code>rg-project encodeBase64 --glob='!*test.go'</code></p>
<p>This is great, but there's one issue. <code>rg.el</code> only allows you to specify one <code>--glob</code> flag at a time. This is fine in some cases, 
but there are times when you need to exclude multiple patterns.</p>
<p>Fortunately, there's a workaround. You can set the global variable <code>rg-command-line-flags</code> to an array of strings of custom flags, 
and all of those strings will be passed to <code>ripgrep</code> command.</p>
<p>if you're unsure how to do this, here's a step-by-step example:</p>
<ol>
<li>Press <code>M-:</code> to activate the <strong>eval prompt</strong> in the minibuffer.</li>
<li>Set the variable to your desired values, for instance: <code>(setq rg-command-line-flags '(&quot;-g '!*_test.go'&quot; &quot;-g '!*foo.go'&quot;)).</code></li>
</ol>
<p>You only need to do this once, and all subsequent searches will be affected by it. To disable this behavior, simply set <code>rg-command-line-flags</code> to <code>nil</code>.</p>
<p>I wish rg.el supported multiple filters in its UI, but this workaround is fine for me for the time being.</p>
<h2 id="conclusion">Conclusion</h2>
<p>rg.el is a great code search package for Emacs. It's easy to use and the search results are easy to navigate. 
If you're looking for a good code search solution for Emacs, I highly recommend rg.el.</p>

        </section>

        
            <div class="post-tags">
                <nav class="nav tags">
                    <ul class="tags">
                        
                            <li><a href=https://sepi.me/tags/emacs/>emacs</a></li>
                        
                            <li><a href=https://sepi.me/tags/search/>search</a></li>
                        
                            <li><a href=https://sepi.me/tags/code/>code</a></li>
                        
                            <li><a href=https://sepi.me/tags/ripgrep/>ripgrep</a></li>
                        
                    </ul>
                </nav>
            </div>
        

    </article>
</main>



        <footer>
  <div style="display:flex">
    
        <a class="soc" href=https:&#x2F;&#x2F;github.com&#x2F;sepisoad title=GitHub>
            <i data-feather=github></i>
        </a>
    
        <a class="soc" href=https:&#x2F;&#x2F;sr.ht&#x2F;~sepisoad title=SourceHut>
            <i data-feather=git-branch></i>
        </a>
    
        <a class="soc" href=https:&#x2F;&#x2F;x.com&#x2F;sepisoad title=Twitter>
            <i data-feather=twitter></i>
        </a>
    
  </div>
  <div class="footer-info">
    2023 Â© sepi | <a
      href="https://github.com/XXXMrG/archie-zola">Archie-Zola Theme</a>
  </div>
</footer>


<script>
    feather.replace();
</script>


    </div>
</body>

</html>
